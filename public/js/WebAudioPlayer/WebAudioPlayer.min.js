/*! For license information please see WebAudioPlayer.min.js.LICENSE.txt */
var e={"./src/WebAudioPlayer/components/HttpClient.js":(e,t,n)=>{n.r(t),n.d(t,{get:()=>get});const get=async(e,t=null)=>{let n=e;if(t){n=`${n}?${new URLSearchParams(t).toString}`}const o={headers:new Headers({"Content-Type":"application/json","X-Requested-With":""}),method:"GET",mode:"same-origin"},a=await fetch(n,o);if(!a.ok)throw new Error("Bad");return await a.json()}},"./src/WebAudioPlayer/components/logger.js":(e,t,n)=>{n.r(t),n.d(t,{critical:()=>critical,debug:()=>debug,error:()=>error,info:()=>info,log:()=>log,warn:()=>warn});const _log=(e,t)=>{console.log(t)},debug=e=>{_log(0,e)},log=e=>{_log(0,e)},error=e=>{_log(0,e)},info=e=>{_log(0,e)},warn=e=>{_log(0,e)},critical=e=>{_log(0,e)}}},t={};function __webpack_require__(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{__webpack_require__.r(n),__webpack_require__.d(n,{init:()=>init,startup:()=>startup,version:()=>o});var e=__webpack_require__("./src/WebAudioPlayer/components/HttpClient.js"),t=__webpack_require__("./src/WebAudioPlayer/components/logger.js");const o="0.6";let a,l={mp3:["audio/mpeg","audio/MPA","audio/mpa-robust","audio/mpeg3","audio/x-mpeg-3"],mp4:["audio/aac","audio/aacp","audio/3gpp","audio/3gpp2","audio/mp4","audio/MP4A-LATM","audio/mpeg4-generic"],ogg:["application/ogg","audio/oga","audio/ogg","audio/vorbis","audio/vorbis-config"],webm:["audio/webm"],wav:["audio/vnd.wave","audio/wav","audio/wave","audio/x-wav"]},i=null,r=!1,s=null,d=!1,c=null,u=[],p=null,_=[],f=0,y=0,g=".net-stat-box",v=".autoplay-btn",m=".current-time",B=".info-button",h=".info-screen",b=".info-scroll-box",k=".info-content-box",T=".loading-bar",S=".mute-button",x=".next-track-btn",P=".play-btn",C=".playlist-scroll-box",E=".playlist-btn",w=".prev-track-btn",L=".remaining-time",N=".seek-handle-box",A=".screen-title",H=".user-screen",M=".volume-slider-mute-box",j=".volume-button",q=".volume-slider",I={ajaxSpinner:{},autoplayBtn:{},currentTimeDisplay:null,infoButton:{},infoScreen:{},infoScroll:null,infoScrollContent:null,loadProgress:{},muteButton:{},nextTrackBtn:{},playBtn:{},playlistBox:null,playlistBtn:{},prevTrackBtn:{},remainingTime:null,seekHandleBox:{},screenTitle:null,userScreen:{},volumeButton:{},volumeSliderMute:{},volumeSlider:{}};const startup=e=>{window.document.addEventListener("DOMContentLoaded",(t=>{const n=window.document.getElementById(e);init(n,window.document)}))},init=(e,n,o=null)=>{c=e,a=n,d=function _checkWebAudioApiSupport(){const e=typeof Audio;return"function"==e||"object"==e}();try{if(!d)throw new Error("Web Audio is not supported on your device :(");if(c.classList.add("paused"),function _setAudioObject(e=null){i=e??new Audio}(o),!function _checkMimeSupport(){var e="";for(let t in l)for(let n in l[t])if("probably"===(e=_canPlayType(l[t][n]))||"maybe"===e)return t;return!1}())throw new Error("There is no audio codec supported for this device.");return function _setUpFunctionality(){I.ajaxSpinner={node:_getNodeByClass(g),toggle:_ajaxSpinnerToggler},I.autoplayBtn={node:_getNodeByClass(v),handleButton:_autoPlayButtonHandler},I.currentTimeDisplay=_getNodeByClass(m),I.infoButton={node:_getNodeByClass(B),disable:_infoButtonHandler},I.infoScreen={node:_getNodeByClass(h),close:_infoScreenCloseHandler,open:_infoScreenOpenHandler,toggle:_infoScreenToggler},I.infoScroll=_getNodeByClass(b),I.infoScrollContent=_getNodeByClass(k),I.loadProgress={node:_getNodeByClass(T),reset:function(){this.setWidth("0")},setFullWidth:function(e){this.setWidth("100%")},setWidth:function(e){I.loadProgress.node.style.width=e}},I.muteButton={node:_getNodeByClass(S)},I.nextTrackBtn={node:_getNodeByClass(x),handleButton:function(e){_removePlayingClassFromAll(),_loadTrack(_getNextTrack())}},I.playBtn={node:_getNodeByClass(P),handleButton:async function(e){i.paused&&null==s?(s=0,_loadTrack(s)):i.paused?await _play(e):_pause(e)}},I.playlistBox=_getNodeByClass(C),I.playlistBtn={node:_getNodeByClass(E),handleButton:_loadAllPlaylistsHandler},I.prevTrackBtn={node:_getNodeByClass(w),handleSingleClick:function(e){i.currentTime=0},handleDblClick:function(e){_removePlayingClassFromAll(),_loadTrack(function _getPrevTrack(){if(s>0)return s-1;return f-1}())}},I.remainingTime=_getNodeByClass(L),I.seekHandleBox={node:_getNodeByClass(N),handleInput:function(e){i.currentTime=e.target.value},reset:function(){this.node.value=0,this.toggleEnable(!0)},setMax:function(){this.node.setAttribute("max",i.seekable.end(0))},setPosition:function(e){this.node.value=e},toggleEnable:function(e){this.node.disabled=e}},I.screenTitle=_getNodeByClass(A),I.userScreen={node:_getNodeByClass(H),reset:function(){I.seekHandleBox.reset(),I.infoScreen.close(!0),I.loadProgress.reset(),_populateTimeDisplay("00:00","00:00")}},I.volumeButton={node:_getNodeByClass(j),toggleActive:function(){I.volumeButton.node.classList.toggle("active")},toggleMute:function(e){i.muted?(i.muted=!1,I.volumeSlider.setPosition(y),c.classList.remove("muted")):(y=i.volume,i.muted=!0,I.volumeSlider.setPosition(0),c.classList.add("muted"))}},I.volumeSliderMute={node:_getNodeByClass(M),close:function(){I.volumeButton.toggleActive(),I.volumeSliderMute.node.classList.remove("play")},open:function(){I.volumeButton.toggleActive(),I.volumeSliderMute.node.classList.add("play")},toggle:function(e){I.volumeSliderMute.node.classList.contains("play")?I.volumeSliderMute.close():I.volumeSliderMute.open()}},I.volumeSlider={node:_getNodeByClass(q),handleInput:function(e){i.volume=e.target.value},setPosition:function(e){const t=parseInt(e);I.volumeSlider.node.value=t>1?1:t}}}(),u=[I.autoplayBtn.node,I.playBtn.node,I.prevTrackBtn.node,I.muteButton.node,I.nextTrackBtn.node,I.seekHandleBox.node,I.volumeSlider.node],_togglePlayerButtons(!0),I.volumeSlider.setPosition(1),I.seekHandleBox.setPosition(0),I.infoButton.disable(!0),function _connectPlayerButtons(){_attachEvents(I.autoplayBtn.node,"click",I.autoplayBtn.handleButton),_attachEvents(I.infoButton.node,"click",I.infoScreen.toggle),_attachEvents(I.nextTrackBtn.node,"click",I.nextTrackBtn.handleButton),_attachEvents(I.playBtn.node,"click",I.playBtn.handleButton),_attachEvents(I.playlistBtn.node,"click",I.playlistBtn.handleButton),_attachEvents(I.prevTrackBtn.node,"click",I.prevTrackBtn.handleSingleClick),_attachEvents(I.prevTrackBtn.node,"dblclick",I.prevTrackBtn.handleDblClick),_attachEvents(I.seekHandleBox.node,"input",I.seekHandleBox.handleInput),_attachEvents(I.muteButton.node,"click",I.volumeButton.toggleMute),_attachEvents(I.volumeButton.node,"click",I.volumeSliderMute.toggle),_attachEvents(I.volumeSlider.node,"input",I.volumeSlider.handleInput)}(),function _connectAudioEvents(){_attachEvents(i,"canplay",_play),_attachEvents(i,"ended",_handleEndOfAudioEvent),_attachEvents(i,"loadeddata",I.loadProgress.setFullWidth),_attachEvents(i,"pause",_handlePauseEvent),_attachEvents(i,"playing",_handlePlayingEvent),_attachEvents(i,"progress",_handleProgressEvent),_attachEvents(i,"timeupdate",_handleTimeUpdateEvent)}(),_renderPlaylistsList(),i}catch(e){t.error(e),t.error("Failed to initiate the Web Audio Player :(")}};function _getNodeByClass(e){return a.querySelector(`#${c.id} ${e}`)}function _ajaxSpinnerToggler(e){e?I.ajaxSpinner.node.classList.add("play"):I.ajaxSpinner.node.classList.remove("play")}function _autoPlayButtonHandler(e){r?(r=!1,c.classList.remove("autoplay")):(r=!0,c.classList.add("autoplay"))}function _infoButtonHandler(e){e?(I.infoButton.node.classList.remove("has-info"),I.infoButton.node.disabled=!0):(I.infoButton.node.classList.add("has-info"),I.infoButton.node.disabled=!1)}function _infoScreenCloseHandler(e){e&&(I.infoScreen.node.classList.add("fast"),I.infoScreen.node.classList.remove("fast")),I.infoScreen.node.classList.remove("play")}function _infoScreenOpenHandler(){I.infoScreen.node.classList.add("play")}function _infoScreenToggler(e){I.infoScreen.node.classList.contains("play")?I.infoScreen.close():I.infoScreen.open()}function _loadAllPlaylistsHandler(e){_togglePlayerButtons(!0),i.paused||_pause(),I.volumeSliderMute.close(),I.userScreen.reset(),I.infoButton.disable(!0),_renderPlaylistsList()}function _attachEvents(e,t,n){if("function"!=typeof e.addEventListener)throw new Error("Cannot attach events. Client does not support addEventListener method.");e.addEventListener(t,n,!1)}function _canPlayType(e){return i.canPlayType(e)}function _convertSecondsToTime(e,t){if(!0===t){var n=Math.floor(e/60,10),o=e-60*n;return(n>9?n:"0"+n)+":"+(o>9?o:"0"+o)}var a=parseInt(e,10),l=Math.floor(a/3600),i=Math.floor((a-3600*l)/60),r=a-3600*l-60*i;return(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)}function _createTextNode(e){return a.createTextNode(e)}function _empty(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function _getNextTrack(){var e=s+1;return e<f?e:0}async function _playlistButtonHandler(t){const n=t.target.dataset.playlist;t.preventDefault();try{const t=new URL(n);!function _handlePlaylist(e){_togglePlayerButtons(!1),p=e,_updateScreenTitle(p.name),f=p.tracks.length,function _setUpPlaylistDisplay(){_empty(I.playlistBox);for(let e=0;e<p.tracks.length;e++){const t=p.tracks[e],n=a.createElement("li"),o=_makeShortTitle(t.title),l=a.createElement("button");l.appendChild(_createTextNode(o)),l.setAttribute("data-tracknum",e),n.appendChild(l),I.playlistBox.appendChild(n),_attachEvents(l,"click",_handleLoadTrack)}}(),_populateTimeDisplay("00:00","00:00");_populateInfoBoxContent(e.info?`<p>${e.info}</p>`:"")}(await async function _loadPlaylist(t){if("string"!=typeof t||t.length<=0)throw new Error("No playlist has been defined!");return I.ajaxSpinner.toggle(!0),_togglePlayerButtons(!0),I.playlistBtn.node.classList.remove("active"),await e.get(t)}(t.href))}catch(e){console.error("Failed to load playlist")}}async function _renderPlaylistsList(){const t=new URL(c.dataset.playlistsUrl);0===_.length&&(_=await e.get(t.href)),I.playlistBtn.node.classList.add("active"),_updateScreenTitle("Playlists"),_empty(I.playlistBox);for(const e of _){const t=a.createElement("button"),n=a.createElement("li");t.appendChild(_createTextNode(e.name)),t.dataset.playlist=e.url,t.setAttribute("title",e.name),_attachEvents(t,"click",_playlistButtonHandler),n.appendChild(t),I.playlistBox.appendChild(n)}}function _handleEndOfAudioEvent(e){r&&(_removePlayingClassFromAll(),_loadTrack(_getNextTrack()))}function _handlePauseEvent(e){c.classList.remove("playing"),c.classList.add("paused")}function _handlePlayingEvent(e){var t=I.playlistBox.querySelector(`button[data-tracknum="${s}"]`).parentNode;c.classList.remove("paused"),c.classList.add("playing"),t.setAttribute("class","current")}function _handleProgressEvent(e){const t=e.target.buffered;for(let e=0;e<t.length;e++){const n=Math.ceil(parseInt(t.end(e)/t.duration*100));I.loadProgress.setWidth(n+"%")}}function _handleTimeUpdateEvent(e){const t=e.target.duration,n=e.target.currentTime,o=parseInt(t-n,10);isNaN(o)||(_populateTimeDisplay(_convertSecondsToTime(n),_convertSecondsToTime(o,!0)),I.seekHandleBox.setPosition(n))}function _populateInfoBoxContent(e){_empty(I.infoScrollContent),I.infoScrollContent.innerHTML=e,I.infoButton.disable(!1)}function _loadTrack(e){if(_pause(),I.seekHandleBox.toggleEnable(!0),I.loadProgress.reset(),s=parseInt(e),i.src=p.tracks[s].path,p.tracks[s].info.length<=0)I.infoButton.disable(!0);else{_populateInfoBoxContent(`<p>${p.tracks[s].title}</p>\n\t\t\t${p.tracks[s].info}`)}i.load()}function _pause(e){i.pause()}async function _play(e){I.seekHandleBox.toggleEnable(!1),I.seekHandleBox.setMax();try{await i.play()}catch(e){I.seekHandleBox.toggleEnable(!0)}}function _populateTimeDisplay(e,t){_empty(I.remainingTime).appendChild(_createTextNode(t)),_empty(I.currentTimeDisplay).appendChild(_createTextNode(e))}function _removePlayingClassFromAll(){c.classList.remove("playing");const e=I.playlistBox.querySelector("current");e&&e.removeAttribute("class")}function _handleLoadTrack(e){const t=parseInt(e.target.getAttribute("data-tracknum"));e.preventDefault(),_removePlayingClassFromAll(),_loadTrack(t)}function _makeShortTitle(e){if(e.length<=50)return e;const t=e.substr(0,50).split(" ");t.pop();return`${t.join(" ")}...`}function _togglePlayerButtons(e){for(const t of u)t.disabled=e}function _updateScreenTitle(e){I.screenTitle.innerHTML=e}})();var o=n.init,a=n.startup,l=n.version;export{o as init,a as startup,l as version};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0YsRUFBTUcsS0FBSyxVQVN0QixTQUFTOUYscUJBQXFCYSxHQUM3QixJQUFLLE1BQU1qRSxLQUFRbkQsRUFDbEJtRCxFQUFLeUMsU0FBV3dCLEVBVWxCLFNBQVMrQixtQkFBbUJkLEdBQzNCL0gsRUFBY2lCLFlBQVk4SixVQUFZaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWQtYXNzLWh0bWw1LWF1ZGlvLXBsYXllci8uL3NyYy9XZWJBdWRpb1BsYXllci9jb21wb25lbnRzL0h0dHBDbGllbnQuanMiLCJ3ZWJwYWNrOi8vYmFkLWFzcy1odG1sNS1hdWRpby1wbGF5ZXIvLi9zcmMvV2ViQXVkaW9QbGF5ZXIvY29tcG9uZW50cy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vYmFkLWFzcy1odG1sNS1hdWRpby1wbGF5ZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmFkLWFzcy1odG1sNS1hdWRpby1wbGF5ZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhZC1hc3MtaHRtbDUtYXVkaW8tcGxheWVyL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmFkLWFzcy1odG1sNS1hdWRpby1wbGF5ZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9iYWQtYXNzLWh0bWw1LWF1ZGlvLXBsYXllci8uL3NyYy9XZWJBdWRpb1BsYXllci9XZWJBdWRpb1BsYXllci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuZXhwb3J0IGNvbnN0IGdldCA9IGFzeW5jIChlbmRwb2ludCwgcXVlcnlQYXJhbXMgPSBudWxsKSA9PiB7XG4gICAgbGV0IFVSTCA9IGVuZHBvaW50O1xuXG4gICAgaWYgKHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgIGNvbnN0IHFwID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVBhcmFtcyk7XG4gICAgICAgIFVSTCA9IGAke1VSTH0/JHtxcC50b1N0cmluZ31gO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICcnXG4gICAgICAgIH0pLFxuICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICBtb2RlOiAnc2FtZS1vcmlnaW4nXG4gICAgfTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goVVJMLCByZXF1ZXN0UGFyYW1zKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xufVxuIiwiLyogaXN0YW5idWwgaWdub3JlIGZpbGUgKi9cbmNvbnN0IF9sb2cgPSAobGV2ZWwsIG1zZykgPT4ge1xuICAgIGNvbnNvbGUubG9nKG1zZyk7XG59XG5cbmV4cG9ydCBjb25zdCBkZWJ1ZyA9IChtc2cpID0+IHtcbiAgICBfbG9nKDEsIG1zZyk7XG59XG5leHBvcnQgY29uc3QgbG9nID0gKG1zZykgPT4ge1xuICAgIF9sb2coMiwgbXNnKTtcbn1cbmV4cG9ydCBjb25zdCBlcnJvciA9IChtc2cpID0+IHtcbiAgICBfbG9nKDMsIG1zZyk7XG59XG5leHBvcnQgY29uc3QgaW5mbyA9IChtc2cpID0+IHtcbiAgICBfbG9nKDQsIG1zZyk7XG59XG5leHBvcnQgY29uc3Qgd2FybiA9IChtc2cpID0+IHtcbiAgICBfbG9nKDUsIG1zZyk7XG59XG5leHBvcnQgY29uc3QgY3JpdGljYWwgPSAobXNnKSA9PiB7XG4gICAgX2xvZyg2LCBtc2cpO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgKiBhcyBIdHRwQ2xpZW50IGZyb20gJy4vY29tcG9uZW50cy9IdHRwQ2xpZW50LmpzJztcbi8vIGltcG9ydCB7IHBsYXlsaXN0cyB9IGZyb20gJy4vY29tcG9uZW50cy9wbGF5bGlzdHMuanMnO1xuaW1wb3J0ICogYXMgbG9nZ2VyIGZyb20gJy4vY29tcG9uZW50cy9sb2dnZXIuanMnO1xuLyoqXG4gKiBIVE1MNSBKYXZhU2NyaXB0IEF1ZGlvIFBsYXllciB2MC42LlxuICpcbiAqIERlc2lnbmVkIHRvIHBsYXkgYW55IHN1cHBvcnRlZCBhdWRpbyB0eXBlLlxuICpcbiAqIEBjb3B5cmlnaHQgwqkgMjAxMywyMDE3LDIwMjIgQ2xpZiBKYWNrc29uXG4gKiBAcGFja2FnZSBIVE1MNSBKYXZhU2NyaXB0IEF1ZGlvIFBsYXllclxuICogQHZlcnNpb24gMC42XG4gKi9cbmV4cG9ydCBjb25zdCB2ZXJzaW9uXHRcdD0gJzAuNic7XG4gXG5sZXQgX0RPQztcbmxldCBfQVVESU9fQ09ERUNTX01JTUVTICAgICA9IHtcblx0bXAzOiBbJ2F1ZGlvL21wZWcnLCAnYXVkaW8vTVBBJywgJ2F1ZGlvL21wYS1yb2J1c3QnLCdhdWRpby9tcGVnMycsJ2F1ZGlvL3gtbXBlZy0zJ10sXG5cdG1wNDogWydhdWRpby9hYWMnLCAnYXVkaW8vYWFjcCcsICdhdWRpby8zZ3BwJywgJ2F1ZGlvLzNncHAyJywgJ2F1ZGlvL21wNCcsICdhdWRpby9NUDRBLUxBVE0nLCAnYXVkaW8vbXBlZzQtZ2VuZXJpYyddLFxuXHRvZ2c6IFsnYXBwbGljYXRpb24vb2dnJywgJ2F1ZGlvL29nYScsICdhdWRpby9vZ2cnLCAnYXVkaW8vdm9yYmlzJywgJ2F1ZGlvL3ZvcmJpcy1jb25maWcnXSxcblx0d2VibTogWydhdWRpby93ZWJtJ10sXG5cdHdhdjogWydhdWRpby92bmQud2F2ZScsICdhdWRpby93YXYnLCAnYXVkaW8vd2F2ZScsICdhdWRpby94LXdhdiddXG59O1xubGV0IF9XRUJfQVVESU8gXHRcdFx0XHQ9IG51bGw7XG5sZXQgX0FVVE9fUExBWVx0XHRcdFx0PSBmYWxzZTtcbmxldCBfQ1VSUkVOVF9UUkFDSyAgICAgIFx0PSBudWxsO1xubGV0IF9IVE1MNV9TVVBQT1JUXHRcdFx0PSBmYWxzZTtcbmxldCBfUExBWUVSUk9PVFx0XHRcdFx0PSBudWxsO1xubGV0IF9QTEFZRVJfQ09OVFJPTF9OT0RFU1x0PSBbXTtcbmxldCBfUExBWUxJU1QgICAgICAgICAgICAgICA9IG51bGw7XG5sZXQgX1BMQVlMSVNUUyAgICAgICAgICAgICAgPSBbXTtcbmxldCBfVFJBQ0tfQ09VTlRcdFx0XHQ9IDA7XG5sZXQgX1NBVkVEVk9MVU1FXHRcdFx0PSAwO1xubGV0IF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTID0ge1xuXHRhamF4U3Bpbm5lcjogJy5uZXQtc3RhdC1ib3gnLFxuXHRhdXRvcGxheUJ0bjogJy5hdXRvcGxheS1idG4nLFxuXHRjdXJyZW50VGltZURpc3BsYXk6ICcuY3VycmVudC10aW1lJyxcblx0aW5mb0J1dHRvbjogJy5pbmZvLWJ1dHRvbicsXG5cdGluZm9TY3JlZW46ICcuaW5mby1zY3JlZW4nLFxuXHRpbmZvU2Nyb2xsOiAnLmluZm8tc2Nyb2xsLWJveCcsXG5cdGluZm9TY3JvbGxDb250ZW50OiAnLmluZm8tY29udGVudC1ib3gnLFxuXHRsb2FkUHJvZ3Jlc3M6ICcubG9hZGluZy1iYXInLFxuXHRtdXRlQnV0dG9uOiAnLm11dGUtYnV0dG9uJyxcblx0bmV4dFRyYWNrQnRuOiAnLm5leHQtdHJhY2stYnRuJyxcblx0cGxheUJ0bjogJy5wbGF5LWJ0bicsXG5cdHBsYXlsaXN0Qm94OiAnLnBsYXlsaXN0LXNjcm9sbC1ib3gnLFxuXHRwbGF5bGlzdEJ0bjogJy5wbGF5bGlzdC1idG4nLFxuXHRwcmV2VHJhY2tCdG46ICcucHJldi10cmFjay1idG4nLFxuXHRyZW1haW5pbmdUaW1lOiAnLnJlbWFpbmluZy10aW1lJyxcblx0c2Vla0hhbmRsZUJveDogJy5zZWVrLWhhbmRsZS1ib3gnLFxuXHRzY3JlZW5UaXRsZTogJy5zY3JlZW4tdGl0bGUnLFxuXHR1c2VyU2NyZWVuOiAnLnVzZXItc2NyZWVuJyxcblx0dm9sdW1lU2xpZGVyTXV0ZTogJy52b2x1bWUtc2xpZGVyLW11dGUtYm94Jyxcblx0dm9sdW1lQnV0dG9uOiAnLnZvbHVtZS1idXR0b24nLFxuXHR2b2x1bWVTbGlkZXI6ICcudm9sdW1lLXNsaWRlcidcbn1cbmxldCBfUExBWUVSX0ZVTkNTXHRcdFx0PSB7XG4gICAgYWpheFNwaW5uZXI6IHt9LFxuICAgIGF1dG9wbGF5QnRuOiB7fSxcbiAgICBjdXJyZW50VGltZURpc3BsYXk6IG51bGwsXG4gICAgaW5mb0J1dHRvbjoge30sXG4gICAgaW5mb1NjcmVlbjoge30sXG4gICAgaW5mb1Njcm9sbDogbnVsbCxcbiAgICBpbmZvU2Nyb2xsQ29udGVudDogbnVsbCxcbiAgICBsb2FkUHJvZ3Jlc3M6IHt9LFxuICAgIG11dGVCdXR0b246IHt9LFxuICAgIG5leHRUcmFja0J0bjoge30sXG4gICAgcGxheUJ0bjoge30sXG4gICAgcGxheWxpc3RCb3g6IG51bGwsXG4gICAgcGxheWxpc3RCdG46IHt9LFxuICAgIHByZXZUcmFja0J0bjoge30sXG4gICAgcmVtYWluaW5nVGltZTogbnVsbCxcbiAgICBzZWVrSGFuZGxlQm94OiB7fSxcbiAgICBzY3JlZW5UaXRsZTogbnVsbCxcbiAgICB1c2VyU2NyZWVuOiB7fSxcbiAgICB2b2x1bWVCdXR0b246IHt9LFxuICAgIHZvbHVtZVNsaWRlck11dGU6IHt9LFxuICAgIHZvbHVtZVNsaWRlcjoge31cbn1cblxuLyoqXG4gKiBQdWJsaWMgTWV0aG9kc1xuIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAvKipcbiAgKiBTdGFydHVwIGFuIGluc3RhbmNlIG9mIGEgcGxheWVyIGJ5IHBhc3NpbmcgaW4gYW4gaWQuIFRoaXNcbiAgKiBpcyBtZWFudCB0byBiZSB1c2VkIGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLlxuICAqXG4gICogQHBhcmFtIHtTdHJpbmd9IGlkIERPTSBub2RlIGlkIGF0dHJpYnV0ZSBmb3IgeW91ciBwbGF5ZXIuXG4gICogQHJldHVybnMge0hUTUxXZWJBdWRpb0VsZW1lbnR9XG4gICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZXhwb3J0IGNvbnN0IHN0YXJ0dXAgPSAoaWQpID0+IHtcblx0Y29uc3QgY2IgPSAoZSkgPT4ge1xuXHRcdGNvbnN0IHBsYXllck5vZGUgPSB3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXHRcdGluaXQocGxheWVyTm9kZSwgd2luZG93LmRvY3VtZW50KTtcblx0fVxuXHR3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBwbGF5ZXIuXG4gKlxuICogQHJldHVybiB7SFRNTFdlYkF1ZGlvRWxlbWVudH1cbiAqL1xuIGV4cG9ydCBjb25zdCBpbml0ID0gKHBsYXllck5vZGUsIGRvYywgYXVkaW8gPSBudWxsKSA9PiB7XG5cdF9QTEFZRVJST09UXHQgICA9IHBsYXllck5vZGU7XG5cdF9ET0NcdFx0ICAgPSBkb2M7XG5cdF9IVE1MNV9TVVBQT1JUID0gX2NoZWNrV2ViQXVkaW9BcGlTdXBwb3J0KCk7XG5cblx0dHJ5IHtcblx0XHRpZiAoIV9IVE1MNV9TVVBQT1JUKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYiBBdWRpbyBpcyBub3Qgc3VwcG9ydGVkIG9uIHlvdXIgZGV2aWNlIDooJyk7XG5cdFx0fVxuXG5cdFx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LmFkZCgncGF1c2VkJyk7XG5cdFx0X3NldEF1ZGlvT2JqZWN0KGF1ZGlvKTtcblxuICAgICAgICBpZiAoIV9jaGVja01pbWVTdXBwb3J0KCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgaXMgbm8gYXVkaW8gY29kZWMgc3VwcG9ydGVkIGZvciB0aGlzIGRldmljZS4nKTtcbiAgICAgICAgfVxuXG5cdFx0X3NldFVwRnVuY3Rpb25hbGl0eSgpO1xuXHRcdF9QTEFZRVJfQ09OVFJPTF9OT0RFUyA9IFtcblx0XHRcdF9QTEFZRVJfRlVOQ1MuYXV0b3BsYXlCdG4ubm9kZSxcblx0XHRcdF9QTEFZRVJfRlVOQ1MucGxheUJ0bi5ub2RlLFxuXHRcdFx0X1BMQVlFUl9GVU5DUy5wcmV2VHJhY2tCdG4ubm9kZSxcblx0XHRcdF9QTEFZRVJfRlVOQ1MubXV0ZUJ1dHRvbi5ub2RlLFxuXHRcdFx0X1BMQVlFUl9GVU5DUy5uZXh0VHJhY2tCdG4ubm9kZSxcblx0XHRcdF9QTEFZRVJfRlVOQ1Muc2Vla0hhbmRsZUJveC5ub2RlLFxuXHRcdFx0X1BMQVlFUl9GVU5DUy52b2x1bWVTbGlkZXIubm9kZVxuXHRcdF07XG5cdFx0X3RvZ2dsZVBsYXllckJ1dHRvbnModHJ1ZSk7XG5cbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB2b2x1bWVcblx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlci5zZXRQb3NpdGlvbigxKTtcblx0XHQvLyBJbml0aWFsaXplIGF1ZGlvIHNlZWsgcG9zaXRpb25cbiAgICAgICAgX1BMQVlFUl9GVU5DUy5zZWVrSGFuZGxlQm94LnNldFBvc2l0aW9uKDApO1xuXHRcdC8vIERpc2FibGUgdGhlIGluZm8gYnV0dG9uIHVudGlsIHNvbWV0aGluZyBpcyBsb2FkZWRcblx0XHRfUExBWUVSX0ZVTkNTLmluZm9CdXR0b24uZGlzYWJsZSh0cnVlKTtcblxuXHRcdF9jb25uZWN0UGxheWVyQnV0dG9ucygpO1xuXHRcdF9jb25uZWN0QXVkaW9FdmVudHMoKTtcblx0XHRfcmVuZGVyUGxheWxpc3RzTGlzdCgpO1xuXG5cdFx0cmV0dXJuIF9XRUJfQVVESU87XG5cdH1cblx0Y2F0Y2ggKGVycikge1xuXHRcdGxvZ2dlci5lcnJvcihlcnIpO1xuXHRcdGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGluaXRpYXRlIHRoZSBXZWIgQXVkaW8gUGxheWVyIDooJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBQcml2YXRlIE1ldGhvZHNcbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIENvbnZlbmllbmNlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBjbGFzc05hbWVcbiAqIEByZXR1cm5zIHtvYmplY3R9IERPTU5vZGV8bnVsbFxuICovXG5mdW5jdGlvbiBfZ2V0Tm9kZUJ5Q2xhc3MoY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuIF9ET0MucXVlcnlTZWxlY3RvcihgIyR7X1BMQVlFUlJPT1QuaWR9ICR7Y2xhc3NOYW1lfWApO1xufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtCb29sZWFufSBzdGF0ZSBcbiAqL1xuZnVuY3Rpb24gX2FqYXhTcGlubmVyVG9nZ2xlcihzdGF0ZSkge1xuXHRpZiAoc3RhdGUpIHtcblx0XHRfUExBWUVSX0ZVTkNTLmFqYXhTcGlubmVyLm5vZGUuY2xhc3NMaXN0LmFkZCgncGxheScpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdF9QTEFZRVJfRlVOQ1MuYWpheFNwaW5uZXIubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5Jyk7XG5cdH1cbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7RE9NIEV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBfYXV0b1BsYXlCdXR0b25IYW5kbGVyKGUpIHtcblx0aWYgKCFfQVVUT19QTEFZKSB7XG5cdFx0X0FVVE9fUExBWSA9IHRydWU7XG5cdFx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LmFkZCgnYXV0b3BsYXknKTtcblx0fVxuXHRlbHNlIHtcblx0XHRfQVVUT19QTEFZID0gZmFsc2U7XG5cdFx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LnJlbW92ZSgnYXV0b3BsYXknKTtcblx0fVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtCb29sZWFufSBzdGF0ZSBcbiAqL1xuZnVuY3Rpb24gX2luZm9CdXR0b25IYW5kbGVyKHN0YXRlKSB7XG5cdGlmIChzdGF0ZSkge1xuXHRcdF9QTEFZRVJfRlVOQ1MuaW5mb0J1dHRvbi5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1pbmZvJyk7XG5cdFx0X1BMQVlFUl9GVU5DUy5pbmZvQnV0dG9uLm5vZGUuZGlzYWJsZWQgPSB0cnVlO1xuXHR9XG5cdGVsc2Uge1xuXHRcdF9QTEFZRVJfRlVOQ1MuaW5mb0J1dHRvbi5ub2RlLmNsYXNzTGlzdC5hZGQoJ2hhcy1pbmZvJyk7XG5cdFx0X1BMQVlFUl9GVU5DUy5pbmZvQnV0dG9uLm5vZGUuZGlzYWJsZWQgPSBmYWxzZTtcblx0fVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIHtCb29sZWFufSBmYXN0IFxuICovXG5mdW5jdGlvbiBfaW5mb1NjcmVlbkNsb3NlSGFuZGxlcihmYXN0KSB7XG5cdGlmIChmYXN0KSB7XG5cdFx0X1BMQVlFUl9GVU5DUy5pbmZvU2NyZWVuLm5vZGUuY2xhc3NMaXN0LmFkZCgnZmFzdCcpO1xuXHRcdC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLmluZm9TY3JlZW4ubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdmYXN0Jyk7XG5cdFx0Ly8gfSwgNTAwKTtcblx0fVxuXHRfUExBWUVSX0ZVTkNTLmluZm9TY3JlZW4ubm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdwbGF5Jyk7XG59XG5cbi8qKlxuICogXG4gKi9cbmZ1bmN0aW9uIF9pbmZvU2NyZWVuT3BlbkhhbmRsZXIoKSB7XG5cdF9QTEFZRVJfRlVOQ1MuaW5mb1NjcmVlbi5ub2RlLmNsYXNzTGlzdC5hZGQoJ3BsYXknKTtcbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7RE9NIEV2ZW50fSBlIFxuICovXG5mdW5jdGlvbiBfaW5mb1NjcmVlblRvZ2dsZXIoZSkge1xuXHRpZiAoX1BMQVlFUl9GVU5DUy5pbmZvU2NyZWVuLm5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGF5JykpIHtcblx0XHRfUExBWUVSX0ZVTkNTLmluZm9TY3JlZW4uY2xvc2UoKTtcblx0XHQvLyBjbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcblx0fVxuXHRlbHNlIHtcblx0XHRfUExBWUVSX0ZVTkNTLmluZm9TY3JlZW4ub3BlbigpO1xuXHRcdC8vIGNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXHR9XG59XG5cbi8qKlxuICogRGVmaW5lIGFsbCB0aGUgZnVuY3Rpb25hbGl0eSB0aGUgcGxheWVyIFVJIG5lZWRzLlxuICovXG5mdW5jdGlvbiBfc2V0VXBGdW5jdGlvbmFsaXR5KCkge1xuXHRfUExBWUVSX0ZVTkNTLmFqYXhTcGlubmVyID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5hamF4U3Bpbm5lciksXG5cdFx0dG9nZ2xlOiBfYWpheFNwaW5uZXJUb2dnbGVyXG5cdH1cblx0X1BMQVlFUl9GVU5DUy5hdXRvcGxheUJ0biA9IHtcblx0XHRub2RlOiBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMuYXV0b3BsYXlCdG4pLFxuXHRcdGhhbmRsZUJ1dHRvbjogX2F1dG9QbGF5QnV0dG9uSGFuZGxlclxuXHR9XG5cdF9QTEFZRVJfRlVOQ1MuY3VycmVudFRpbWVEaXNwbGF5ID0gX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLmN1cnJlbnRUaW1lRGlzcGxheSk7XG5cdF9QTEFZRVJfRlVOQ1MuaW5mb0J1dHRvbiA9IHtcblx0XHRub2RlOiBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMuaW5mb0J1dHRvbiksXG5cdFx0ZGlzYWJsZTogX2luZm9CdXR0b25IYW5kbGVyXG5cdH1cblx0X1BMQVlFUl9GVU5DUy5pbmZvU2NyZWVuID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5pbmZvU2NyZWVuKSxcblx0XHRjbG9zZTogX2luZm9TY3JlZW5DbG9zZUhhbmRsZXIsXG5cdFx0b3BlbjogX2luZm9TY3JlZW5PcGVuSGFuZGxlcixcblx0XHR0b2dnbGU6IF9pbmZvU2NyZWVuVG9nZ2xlclxuXHR9XG5cdF9QTEFZRVJfRlVOQ1MuaW5mb1Njcm9sbCA9IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5pbmZvU2Nyb2xsKTtcblx0X1BMQVlFUl9GVU5DUy5pbmZvU2Nyb2xsQ29udGVudCA9IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5pbmZvU2Nyb2xsQ29udGVudCk7XG5cdF9QTEFZRVJfRlVOQ1MubG9hZFByb2dyZXNzID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5sb2FkUHJvZ3Jlc3MpLFxuXHRcdHJlc2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuc2V0V2lkdGgoJzAnKTtcblx0XHR9LFxuXHRcdHNldEZ1bGxXaWR0aDogZnVuY3Rpb24oZSkge1xuXHRcdFx0dGhpcy5zZXRXaWR0aCgnMTAwJScpO1xuXHRcdH0sXG5cdFx0c2V0V2lkdGg6IGZ1bmN0aW9uKHcpIHtcblx0XHRcdF9QTEFZRVJfRlVOQ1MubG9hZFByb2dyZXNzLm5vZGUuc3R5bGUud2lkdGggPSB3O1xuXHRcdH1cblx0fVxuXHRfUExBWUVSX0ZVTkNTLm11dGVCdXR0b24gPSB7XG5cdFx0bm9kZTogX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLm11dGVCdXR0b24pXG5cdH1cblx0X1BMQVlFUl9GVU5DUy5uZXh0VHJhY2tCdG4gPSB7XG5cdFx0bm9kZTogX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLm5leHRUcmFja0J0biksXG5cdFx0aGFuZGxlQnV0dG9uOiBmdW5jdGlvbihlKSB7XG5cdFx0XHRfcmVtb3ZlUGxheWluZ0NsYXNzRnJvbUFsbCgpO1xuXHRcdFx0X2xvYWRUcmFjayhfZ2V0TmV4dFRyYWNrKCkpO1xuXHRcdH1cblx0fVxuXHRfUExBWUVSX0ZVTkNTLnBsYXlCdG4gPSB7XG5cdFx0bm9kZTogX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLnBsYXlCdG4pLFxuXHRcdGhhbmRsZUJ1dHRvbjogYXN5bmMgZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gRm9yIHRoZSB2ZXJ5IGZpcnN0IHBsYXkgYWZ0ZXIgcGFnZSBsb2FkXG5cdFx0XHRpZiAoX1dFQl9BVURJTy5wYXVzZWQgJiYgX0NVUlJFTlRfVFJBQ0sgPT0gbnVsbCkge1xuXHRcdFx0XHRfQ1VSUkVOVF9UUkFDSyA9IDA7XG5cdFx0XHRcdF9sb2FkVHJhY2soX0NVUlJFTlRfVFJBQ0spO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoX1dFQl9BVURJTy5wYXVzZWQpIHtcblx0XHRcdFx0YXdhaXQgX3BsYXkoZSk7ICAgICAgICAgICAgICAgICAgICBcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRfcGF1c2UoZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdF9QTEFZRVJfRlVOQ1MucGxheWxpc3RCb3ggPSBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMucGxheWxpc3RCb3gpO1xuXHRfUExBWUVSX0ZVTkNTLnBsYXlsaXN0QnRuID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5wbGF5bGlzdEJ0biksXG5cdFx0aGFuZGxlQnV0dG9uOiBfbG9hZEFsbFBsYXlsaXN0c0hhbmRsZXJcblx0fVxuXHRfUExBWUVSX0ZVTkNTLnByZXZUcmFja0J0biA9IHtcblx0XHRub2RlOiBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMucHJldlRyYWNrQnRuKSxcblx0XHRoYW5kbGVTaW5nbGVDbGljazogZnVuY3Rpb24oZSkge1xuXHRcdFx0X1dFQl9BVURJTy5jdXJyZW50VGltZSA9IDA7XG5cdFx0fSxcblx0XHRoYW5kbGVEYmxDbGljazogZnVuY3Rpb24oZSkge1xuXHRcdFx0X3JlbW92ZVBsYXlpbmdDbGFzc0Zyb21BbGwoKTtcblx0XHRcdF9sb2FkVHJhY2soX2dldFByZXZUcmFjaygpKTtcblx0XHR9XG5cdH1cblx0X1BMQVlFUl9GVU5DUy5yZW1haW5pbmdUaW1lID0gX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLnJlbWFpbmluZ1RpbWUpO1xuXHRfUExBWUVSX0ZVTkNTLnNlZWtIYW5kbGVCb3ggPSB7XG5cdFx0bm9kZTogX2dldE5vZGVCeUNsYXNzKF9QTEFZRVJfUEFSVFNfU0VMRUNUT1JTLnNlZWtIYW5kbGVCb3gpLFxuXHRcdGhhbmRsZUlucHV0OiBmdW5jdGlvbihlKSB7XG5cdFx0XHRfV0VCX0FVRElPLmN1cnJlbnRUaW1lID0gZS50YXJnZXQudmFsdWU7XG5cdFx0fSxcblx0XHRyZXNldDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLm5vZGUudmFsdWUgPSAwO1xuXHRcdFx0dGhpcy50b2dnbGVFbmFibGUodHJ1ZSk7XG5cdFx0fSxcblx0XHRzZXRNYXg6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ub2RlLnNldEF0dHJpYnV0ZSgnbWF4JywgX1dFQl9BVURJTy5zZWVrYWJsZS5lbmQoMCkpO1xuXHRcdH0sXG5cdFx0c2V0UG9zaXRpb246IGZ1bmN0aW9uKHZhbCkge1xuXHRcdFx0dGhpcy5ub2RlLnZhbHVlID0gdmFsO1xuXHRcdH0sXG5cdFx0dG9nZ2xlRW5hYmxlOiBmdW5jdGlvbihzdGF0dXMpIHtcblx0XHRcdHRoaXMubm9kZS5kaXNhYmxlZCA9IHN0YXR1cztcblx0XHR9XG5cdH1cblx0X1BMQVlFUl9GVU5DUy5zY3JlZW5UaXRsZSA9IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy5zY3JlZW5UaXRsZSk7XG5cdF9QTEFZRVJfRlVOQ1MudXNlclNjcmVlbiA9IHtcblx0XHRub2RlOiBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMudXNlclNjcmVlbiksXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0X1BMQVlFUl9GVU5DUy5zZWVrSGFuZGxlQm94LnJlc2V0KCk7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLmluZm9TY3JlZW4uY2xvc2UodHJ1ZSk7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLmxvYWRQcm9ncmVzcy5yZXNldCgpO1xuXHRcdFx0X3BvcHVsYXRlVGltZURpc3BsYXkoJzAwOjAwJywgJzAwOjAwJyk7XG5cdFx0fVxuXHR9XG5cdF9QTEFZRVJfRlVOQ1Mudm9sdW1lQnV0dG9uID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy52b2x1bWVCdXR0b24pLFxuXHRcdHRvZ2dsZUFjdGl2ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZUJ1dHRvbi5ub2RlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuXHRcdH0sXG5cdFx0dG9nZ2xlTXV0ZTogZnVuY3Rpb24oZSkge1xuXHRcdFx0Ly8gVW5tdXRlXG5cdFx0XHRpZiAoX1dFQl9BVURJTy5tdXRlZCkge1xuXHRcdFx0XHRfV0VCX0FVRElPLm11dGVkID0gZmFsc2U7XG5cdFx0XHRcdF9QTEFZRVJfRlVOQ1Mudm9sdW1lU2xpZGVyLnNldFBvc2l0aW9uKF9TQVZFRFZPTFVNRSk7XG5cdFx0XHRcdF9QTEFZRVJST09ULmNsYXNzTGlzdC5yZW1vdmUoJ211dGVkJyk7XG5cdFx0XHR9XG5cdFx0XHQvLyBNdXRlXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0X1NBVkVEVk9MVU1FID0gX1dFQl9BVURJTy52b2x1bWU7XG5cdFx0XHRcdF9XRUJfQVVESU8ubXV0ZWQgPSB0cnVlO1xuXHRcdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlci5zZXRQb3NpdGlvbigwKTtcblx0XHRcdFx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LmFkZCgnbXV0ZWQnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0X1BMQVlFUl9GVU5DUy52b2x1bWVTbGlkZXJNdXRlID0ge1xuXHRcdG5vZGU6IF9nZXROb2RlQnlDbGFzcyhfUExBWUVSX1BBUlRTX1NFTEVDVE9SUy52b2x1bWVTbGlkZXJNdXRlKSxcblx0XHRjbG9zZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZUJ1dHRvbi50b2dnbGVBY3RpdmUoKTtcblx0XHRcdF9QTEFZRVJfRlVOQ1Mudm9sdW1lU2xpZGVyTXV0ZS5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXknKTtcblx0XHR9LFxuXHRcdG9wZW46IGZ1bmN0aW9uKCkge1xuXHRcdFx0X1BMQVlFUl9GVU5DUy52b2x1bWVCdXR0b24udG9nZ2xlQWN0aXZlKCk7XG5cdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlck11dGUubm9kZS5jbGFzc0xpc3QuYWRkKCdwbGF5Jyk7XG5cdFx0fSxcblx0XHR0b2dnbGU6IGZ1bmN0aW9uKGUpIHtcblx0XHRcdGlmIChfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlck11dGUubm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3BsYXknKSkge1xuXHRcdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlck11dGUuY2xvc2UoKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlck11dGUub3BlbigpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHQvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXHRfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlciA9IHtcblx0XHRub2RlOiBfZ2V0Tm9kZUJ5Q2xhc3MoX1BMQVlFUl9QQVJUU19TRUxFQ1RPUlMudm9sdW1lU2xpZGVyKSxcblx0XHRoYW5kbGVJbnB1dDogZnVuY3Rpb24oZSkge1xuXHRcdFx0X1dFQl9BVURJTy52b2x1bWUgPSBlLnRhcmdldC52YWx1ZTtcblx0XHR9LFxuXHRcdHNldFBvc2l0aW9uOiBmdW5jdGlvbih2KSB7XG5cdFx0XHRjb25zdCB2b2wgPSBwYXJzZUludCh2KTtcblx0XHRcdF9QTEFZRVJfRlVOQ1Mudm9sdW1lU2xpZGVyLm5vZGUudmFsdWUgPSB2b2wgPiAxID8gMSA6IHZvbDtcblx0XHR9XG5cdH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgY2xpY2tzIG9uIHRoZSBwbGF5bGlzdHMgYnV0dG9uLlxuICpcbiAqIEBwYXJhbSB7RE9NIEV2ZW50fSBlIFxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gX2xvYWRBbGxQbGF5bGlzdHNIYW5kbGVyKGUpIHtcblx0X3RvZ2dsZVBsYXllckJ1dHRvbnModHJ1ZSk7XG5cblx0aWYgKCFfV0VCX0FVRElPLnBhdXNlZCkge1xuXHRcdF9wYXVzZSgpO1xuXHR9XG5cblx0Ly8gUmVzZXQgZG9lc24ndCB3b3JrIHVubGVzcyB3ZSB3YWl0LlxuXHQvLyBhd2FpdCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdF9QTEFZRVJfRlVOQ1Mudm9sdW1lU2xpZGVyTXV0ZS5jbG9zZSgpO1xuXHRcdF9QTEFZRVJfRlVOQ1MudXNlclNjcmVlbi5yZXNldCgpO1xuXHRcdF9QTEFZRVJfRlVOQ1MuaW5mb0J1dHRvbi5kaXNhYmxlKHRydWUpO1xuXHRcdF9yZW5kZXJQbGF5bGlzdHNMaXN0KCk7XG5cdC8vIH0sIDEwMCk7XG59XG5cbi8qKlxuICogQ29tdmVuaWVuY2UgbWV0aG9kIGZvciBhdHRhY2hpbmcgZXZlbnQgaGFuZGxlcnMgdG8gRE9NIG5vZGUuXG4gKlxuICogQHBhcmFtIHtET00gTm9kZX0gbm9kZSBET00gTm9kZSB0byBhdHRhY2ggZXZlbnQgdG8uXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgRE9NIGV2ZW50IHRvIGF0dGFjaCB0by5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgQ2FsbGJhY2sgZnVuY3Rpb24uXG4gKiBAcmV0dXJucyB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gX2F0dGFjaEV2ZW50cyhub2RlLCBldmVudCwgaGFuZGxlcikge1xuXHRpZiAodHlwZW9mIG5vZGUuYWRkRXZlbnRMaXN0ZW5lciAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYXR0YWNoIGV2ZW50cy4gQ2xpZW50IGRvZXMgbm90IHN1cHBvcnQgYWRkRXZlbnRMaXN0ZW5lciBtZXRob2QuJyk7XG5cdH1cblx0bm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBmYWxzZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHRoZSBicm93c2VyIGNhbiBwbGF5IHRoZSBnaXZlbiBtaW1lIHR5cGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgXG4gKiBAcmV0dXJucyBcbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIF9jYW5QbGF5VHlwZSh0eXBlKSB7XG5cdHJldHVybiBfV0VCX0FVRElPLmNhblBsYXlUeXBlKHR5cGUpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBydHMgdGhlIFdlYiBBdWRpbyBlbGVtZW50LlxuICpcbiAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHN1cHBvcnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5mdW5jdGlvbiBfY2hlY2tXZWJBdWRpb0FwaVN1cHBvcnQoKSB7XG5cdGNvbnN0IHR5cGUgPSB0eXBlb2YgQXVkaW87XG5cdHJldHVybiAodHlwZSA9PSAnZnVuY3Rpb24nIHx8IHR5cGUgPT0gJ29iamVjdCcpO1xufVxuXG4vKipcbiAqIENvbm5lY3QgcGxheWVyIGJ1dHRvbnNcbiAqXG4gKiBAcmV0dXJucyB7Vm9pZH1cbiAqL1xuIGZ1bmN0aW9uIF9jb25uZWN0UGxheWVyQnV0dG9ucygpIHtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLmF1dG9wbGF5QnRuLm5vZGUsICdjbGljaycsIF9QTEFZRVJfRlVOQ1MuYXV0b3BsYXlCdG4uaGFuZGxlQnV0dG9uKTtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLmluZm9CdXR0b24ubm9kZSwgJ2NsaWNrJywgX1BMQVlFUl9GVU5DUy5pbmZvU2NyZWVuLnRvZ2dsZSk7XG5cdF9hdHRhY2hFdmVudHMoX1BMQVlFUl9GVU5DUy5uZXh0VHJhY2tCdG4ubm9kZSwgJ2NsaWNrJywgX1BMQVlFUl9GVU5DUy5uZXh0VHJhY2tCdG4uaGFuZGxlQnV0dG9uKTtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLnBsYXlCdG4ubm9kZSwgJ2NsaWNrJywgX1BMQVlFUl9GVU5DUy5wbGF5QnRuLmhhbmRsZUJ1dHRvbik7XG5cdF9hdHRhY2hFdmVudHMoX1BMQVlFUl9GVU5DUy5wbGF5bGlzdEJ0bi5ub2RlLCAnY2xpY2snLCBfUExBWUVSX0ZVTkNTLnBsYXlsaXN0QnRuLmhhbmRsZUJ1dHRvbik7XG5cdF9hdHRhY2hFdmVudHMoX1BMQVlFUl9GVU5DUy5wcmV2VHJhY2tCdG4ubm9kZSwgJ2NsaWNrJywgX1BMQVlFUl9GVU5DUy5wcmV2VHJhY2tCdG4uaGFuZGxlU2luZ2xlQ2xpY2spO1xuXHRfYXR0YWNoRXZlbnRzKF9QTEFZRVJfRlVOQ1MucHJldlRyYWNrQnRuLm5vZGUsICdkYmxjbGljaycsIF9QTEFZRVJfRlVOQ1MucHJldlRyYWNrQnRuLmhhbmRsZURibENsaWNrKTtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLnNlZWtIYW5kbGVCb3gubm9kZSwgJ2lucHV0JywgX1BMQVlFUl9GVU5DUy5zZWVrSGFuZGxlQm94LmhhbmRsZUlucHV0KTtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLm11dGVCdXR0b24ubm9kZSwgJ2NsaWNrJywgX1BMQVlFUl9GVU5DUy52b2x1bWVCdXR0b24udG9nZ2xlTXV0ZSk7XG4gICAgX2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLnZvbHVtZUJ1dHRvbi5ub2RlLCAnY2xpY2snLCBfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlck11dGUudG9nZ2xlKTtcblx0X2F0dGFjaEV2ZW50cyhfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlci5ub2RlLCAnaW5wdXQnLCBfUExBWUVSX0ZVTkNTLnZvbHVtZVNsaWRlci5oYW5kbGVJbnB1dCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHRoZSBzdXBwb3J0ZWQgbWltZSB0eXBlLlxuICogXG4gKiBAcGFyYW0ge0FycmF5fSB0eXBlcyBMaXN0IG9mIG1pbWUgdHlwZXNcbiAqIEByZXR1cm5zIHtCb29sZWFufFN0cmluZ30gSWYgbm90IGZhbHNlLCByZXR1cm5zIHRoZSBhdWRpbyBtaW1lLlxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gX2NoZWNrTWltZVN1cHBvcnQoKSB7XG5cdHZhciBhbnMgPSAnJztcblxuXHRmb3IgKGxldCB4IGluIF9BVURJT19DT0RFQ1NfTUlNRVMpIHtcbiAgICAgICAgZm9yIChsZXQgeHggaW4gX0FVRElPX0NPREVDU19NSU1FU1t4XSkge1xuICAgICAgICAgICAgYW5zID0gX2NhblBsYXlUeXBlKF9BVURJT19DT0RFQ1NfTUlNRVNbeF1beHhdKTtcblxuICAgICAgICAgICAgaWYgKGFucyA9PT0gJ3Byb2JhYmx5JyB8fCBhbnMgPT09ICdtYXliZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIENvbm5lY3QgdG8gdGhlIEhUTUw1IG1lZGlhIGV2ZW50c1xuICpcbiAqIEByZXR1cm4ge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9jb25uZWN0QXVkaW9FdmVudHMoKSB7XG5cdF9hdHRhY2hFdmVudHMoX1dFQl9BVURJTywgJ2NhbnBsYXknLCBfcGxheSk7XG5cdF9hdHRhY2hFdmVudHMoX1dFQl9BVURJTywgJ2VuZGVkJywgX2hhbmRsZUVuZE9mQXVkaW9FdmVudCk7XG5cdF9hdHRhY2hFdmVudHMoX1dFQl9BVURJTywgJ2xvYWRlZGRhdGEnLCBfUExBWUVSX0ZVTkNTLmxvYWRQcm9ncmVzcy5zZXRGdWxsV2lkdGgpO1xuXHRfYXR0YWNoRXZlbnRzKF9XRUJfQVVESU8sICdwYXVzZScsIF9oYW5kbGVQYXVzZUV2ZW50KTtcblx0X2F0dGFjaEV2ZW50cyhfV0VCX0FVRElPLCAncGxheWluZycsIF9oYW5kbGVQbGF5aW5nRXZlbnQpO1xuXHRfYXR0YWNoRXZlbnRzKF9XRUJfQVVESU8sICdwcm9ncmVzcycsIF9oYW5kbGVQcm9ncmVzc0V2ZW50KTtcblx0X2F0dGFjaEV2ZW50cyhfV0VCX0FVRElPLCAndGltZXVwZGF0ZScsIF9oYW5kbGVUaW1lVXBkYXRlRXZlbnQpO1xufVxuXG4vKipcbiAqIENvbnZlcnQgc2Vjb25kcyB0byBtaW5zOnNlY3MgZm9ybWF0XG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IHMgQ3VycmVudCBwbGF5IHRpbWUgaW4gc2Vjb25kc1xuICogQHBhcmFtIHtCb29sZWFufSByZXYgUmV2ZXJzZSB0aGUgdGltZVxuICogQHJldHVybnMge1N0cmluZ31cbiAqL1xuZnVuY3Rpb24gX2NvbnZlcnRTZWNvbmRzVG9UaW1lKHMsIHJldikge1xuXHRpZiAocmV2ID09PSB0cnVlKSB7XG5cdFx0dmFyIG1pbnMgPSBNYXRoLmZsb29yKHMgLyA2MCwgMTApLFxuXHRcdHNlY3MgPSBzIC0gbWlucyAqIDYwLFxuXHRcdHRpbWUgPSAobWlucyA+IDkgPyBtaW5zIDogJzAnICsgbWlucykgKyAnOicgKyAoc2VjcyA+IDkgPyBzZWNzIDogJzAnICsgc2Vjcyk7XG5cblx0XHRyZXR1cm4gdGltZTtcblx0fVxuXG5cdHZhciBzZWNfbnVtID0gcGFyc2VJbnQocywgMTApLFxuXHRob3VycyAgID0gTWF0aC5mbG9vcihzZWNfbnVtIC8gMzYwMCksXG5cdG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNfbnVtIC0gKGhvdXJzICogMzYwMCkpIC8gNjApLFxuXHRzZWNvbmRzID0gc2VjX251bSAtIChob3VycyAqIDM2MDApIC0gKG1pbnV0ZXMgKiA2MCksXG5cdHRpbWUgPSAobWludXRlcyA8IDEwID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXMpICsgJzonICsgKHNlY29uZHMgPCAxMCA/ICcwJyArIHNlY29uZHMgOiBzZWNvbmRzKTtcblxuXHRyZXR1cm4gdGltZTtcbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5mdW5jdGlvbiBfY3JlYXRlVGV4dE5vZGUoc3RyKSB7XG5cdHJldHVybiBfRE9DLmNyZWF0ZVRleHROb2RlKHN0cik7XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge3R5cGV9IG5vZGVcbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG5mdW5jdGlvbiBfZW1wdHkobm9kZSkge1xuXHR3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG5cdFx0bm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuXHR9XG5cblx0cmV0dXJuIG5vZGU7XG59XG5cbi8qKlxuICogVGhlIG5leHQgdHJhY2sgb3IgdGhlIGZpcnN0IHRyYWNrXG4gKlxuICogQHJldHVybiB7TnVtYmVyfSBOZXcgdHJhY2sgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIF9nZXROZXh0VHJhY2soKSB7XG5cdHZhciBoeXBvTmV4dCA9IF9DVVJSRU5UX1RSQUNLICsgMTtcblxuXHRpZiAoaHlwb05leHQgPCBfVFJBQ0tfQ09VTlQpIHtcbiAgICAgICAgcmV0dXJuIGh5cG9OZXh0O1xuICAgIH1cblxuXHRyZXR1cm4gMDtcbn1cblxuLyoqXG4gKiBUaGUgcHJldmlvdXMgdHJhY2sgb3IgdGhlIGxhc3QgdHJhY2tcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyB0cmFjayBudW1iZXJcbiAqL1xuZnVuY3Rpb24gX2dldFByZXZUcmFjaygpIHtcblx0aWYgKF9DVVJSRU5UX1RSQUNLID4gMCkge1xuICAgICAgICByZXR1cm4gKF9DVVJSRU5UX1RSQUNLIC0gMSk7XG4gICAgfVxuXG5cdHJldHVybiAoX1RSQUNLX0NPVU5UIC0gMSk7XG59XG5cbi8qKlxuICogTG9hZCB0aGUgcGxheWxpc3Qgd2l0aCBhbiBvcHRpb25hbCBwbGF5bGlzdCBwYXRoXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBsIFBhdGggdG8gbG9hZCBwbGF5bGlzdCBmcm9tIHZpYSBBSkFYXG4gKiBAcmV0dXJuIHtKU09OfVxuICovXG4gYXN5bmMgZnVuY3Rpb24gX2xvYWRQbGF5bGlzdChwbCkge1xuXHRpZiAodHlwZW9mIHBsICE9ICdzdHJpbmcnIHx8IHBsLmxlbmd0aCA8PSAwKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdObyBwbGF5bGlzdCBoYXMgYmVlbiBkZWZpbmVkIScpO1xuXHR9XG5cblx0X1BMQVlFUl9GVU5DUy5hamF4U3Bpbm5lci50b2dnbGUodHJ1ZSk7XG5cdF90b2dnbGVQbGF5ZXJCdXR0b25zKHRydWUpO1xuXHRfUExBWUVSX0ZVTkNTLnBsYXlsaXN0QnRuLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cblx0cmV0dXJuIGF3YWl0IEh0dHBDbGllbnQuZ2V0KHBsKTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgY2xpY2tzIG9uIGEgc2luZ2xlIHBsYXlsaXN0LlxuICpcbiAqIEBwYXJhbSB7RE9NIEV2ZW50fSBlXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX3BsYXlsaXN0QnV0dG9uSGFuZGxlcihlKSB7XG5cdGNvbnN0IHBsdSA9IGUudGFyZ2V0LmRhdGFzZXQucGxheWxpc3Q7XG5cdGUucHJldmVudERlZmF1bHQoKTtcblxuXHR0cnkge1xuXHRcdGNvbnN0IHBsYXlsaXN0VXJsID0gbmV3IFVSTChwbHUpO1xuXHRcdGNvbnN0IHBsID0gYXdhaXQgX2xvYWRQbGF5bGlzdChwbGF5bGlzdFVybC5ocmVmKTtcblx0XHRfaGFuZGxlUGxheWxpc3QocGwpO1xuXHR9XG5cdGNhdGNoIChleCkge1xuXHRcdGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHBsYXlsaXN0Jyk7XG5cdH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgYSBwbGF5bGlzdCBhZnRlciBpdCBsb2Fkcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gSlNPTiBQbGF5bGlzdC5cbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG4gZnVuY3Rpb24gX2hhbmRsZVBsYXlsaXN0KHBsKSB7XG5cdC8vIHBsID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShwbCkpO1xuXG5cdF90b2dnbGVQbGF5ZXJCdXR0b25zKGZhbHNlKTtcblxuXHRfUExBWUxJU1QgPSBwbDtcblx0X3VwZGF0ZVNjcmVlblRpdGxlKF9QTEFZTElTVC5uYW1lKTtcblx0X1RSQUNLX0NPVU5UID0gX1BMQVlMSVNULnRyYWNrcy5sZW5ndGg7XG5cdF9zZXRVcFBsYXlsaXN0RGlzcGxheSgpO1xuXHRfcG9wdWxhdGVUaW1lRGlzcGxheSgnMDA6MDAnLCAnMDA6MDAnKTtcblxuXHRjb25zdCBjb250ZW50ID0gcGwuaW5mbyA/IGA8cD4ke3BsLmluZm99PC9wPmAgOiAnJztcblx0X3BvcHVsYXRlSW5mb0JveENvbnRlbnQoY29udGVudCk7XG59XG5cbi8qKlxuICogUmVuZGVyIHRoZSBwbGF5bGlzdHMgZGVmaW5lZCBhbmQgaW1wb3J0ZWQgaW5cbiAqICdwbGF5bGlzdHMnIG5hbWVkIGltcG9ydCBpbnRvIF9QTEFZRVJfRlVOQ1MucGxheWxpc3RCb3guXG4gKlxuICogQHJldHVybnMge1ZvaWR9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9yZW5kZXJQbGF5bGlzdHNMaXN0KCkge1xuXHRjb25zdCBwbGF5bGlzdHNVcmwgPSBuZXcgVVJMKF9QTEFZRVJST09ULmRhdGFzZXQucGxheWxpc3RzVXJsKTtcblxuXHRpZiAoX1BMQVlMSVNUUy5sZW5ndGggPT09IDApIHtcblx0XHRfUExBWUxJU1RTID0gYXdhaXQgSHR0cENsaWVudC5nZXQocGxheWxpc3RzVXJsLmhyZWYpO1xuXHR9XG5cbiAgICBfUExBWUVSX0ZVTkNTLnBsYXlsaXN0QnRuLm5vZGUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cdF91cGRhdGVTY3JlZW5UaXRsZSgnUGxheWxpc3RzJyk7XG5cdF9lbXB0eShfUExBWUVSX0ZVTkNTLnBsYXlsaXN0Qm94KTtcblxuXHRmb3IgKGNvbnN0IHBsYXlsaXN0IG9mIF9QTEFZTElTVFMpIHtcblx0XHRjb25zdCBidXR0b24gPSBfRE9DLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdGNvbnN0IGxpID0gX0RPQy5jcmVhdGVFbGVtZW50KCdsaScpO1xuXG5cdFx0YnV0dG9uLmFwcGVuZENoaWxkKF9jcmVhdGVUZXh0Tm9kZShwbGF5bGlzdC5uYW1lKSk7XG5cdFx0YnV0dG9uLmRhdGFzZXQucGxheWxpc3QgPSBwbGF5bGlzdC51cmw7XG5cdFx0YnV0dG9uLnNldEF0dHJpYnV0ZSgndGl0bGUnLCBwbGF5bGlzdC5uYW1lKTtcblx0XHRfYXR0YWNoRXZlbnRzKGJ1dHRvbiwgJ2NsaWNrJywgX3BsYXlsaXN0QnV0dG9uSGFuZGxlcik7XG5cdFx0bGkuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcblx0XHRfUExBWUVSX0ZVTkNTLnBsYXlsaXN0Qm94LmFwcGVuZENoaWxkKGxpKTtcblx0fVxufVxuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgZm9yIGVuZC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZSBFdmVudCBvYmplY3RcbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG5mdW5jdGlvbiBfaGFuZGxlRW5kT2ZBdWRpb0V2ZW50KGUpIHtcblx0aWYgKF9BVVRPX1BMQVkpIHtcblx0XHRfcmVtb3ZlUGxheWluZ0NsYXNzRnJvbUFsbCgpO1xuXHRcdF9sb2FkVHJhY2soX2dldE5leHRUcmFjaygpKTtcblx0fVxufVxuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgZm9yIHBhdXNlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlIEV2ZW50IG9iamVjdFxuICogQHJldHVybnMge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVQYXVzZUV2ZW50KGUpIHtcblx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LnJlbW92ZSgncGxheWluZycpO1xuXHRfUExBWUVSUk9PVC5jbGFzc0xpc3QuYWRkKCdwYXVzZWQnKTtcbn1cblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIGZvciBBSkFYIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7RE9NfSBlIEV2ZW50IG9iamVjdFxuICogQHJldHVybnMge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVQbGF5aW5nRXZlbnQoZSkge1xuXHR2YXIgcGFyZW50ID0gX1BMQVlFUl9GVU5DU1xuXHRcdC5wbGF5bGlzdEJveFxuXHRcdC5xdWVyeVNlbGVjdG9yKGBidXR0b25bZGF0YS10cmFja251bT1cIiR7X0NVUlJFTlRfVFJBQ0t9XCJdYClcblx0XHQucGFyZW50Tm9kZTtcblxuXHRfUExBWUVSUk9PVC5jbGFzc0xpc3QucmVtb3ZlKCdwYXVzZWQnKTtcblx0X1BMQVlFUlJPT1QuY2xhc3NMaXN0LmFkZCgncGxheWluZycpO1xuXHRwYXJlbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsICdjdXJyZW50Jyk7XG59XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciBmb3IgX1dFQl9BVURJTyBsb2FkaW5nIHByb2dyZXNzLlxuICpcbiAqIEBwYXJhbSB7RE9NfSBlIEV2ZW50IG9iamVjdFxuICogQHJldHVybnMge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9oYW5kbGVQcm9ncmVzc0V2ZW50KGUpIHtcblx0Y29uc3QgYnVmZmQgPSBlLnRhcmdldC5idWZmZXJlZDtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLmNlaWwocGFyc2VJbnQoKGJ1ZmZkLmVuZChpKSAvIGJ1ZmZkLmR1cmF0aW9uKSAqIDEwMCkpO1xuXHRcdF9QTEFZRVJfRlVOQ1MubG9hZFByb2dyZXNzLnNldFdpZHRoKHBlcmNlbnRhZ2UgKyAnJScpO1xuXHR9XG59XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciBmb3IgX1dFQl9BVURJTyB0aW1lIHVwZGF0ZS5cbiAqXG4gKiBAcGFyYW0ge0RPTX0gZSBFdmVudCBvYmplY3RcbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG5mdW5jdGlvbiBfaGFuZGxlVGltZVVwZGF0ZUV2ZW50KGUpIHtcblx0Ly8gQ2FsY3VsYXRlICYgc2V0IHBsYXkgdGltZSBkaXNwbGF5IGNvdW50aW5nIGJhY2t3YXJkc1xuXHRjb25zdCBkdXIgPSBlLnRhcmdldC5kdXJhdGlvbjtcblx0Y29uc3QgdGltZSA9IGUudGFyZ2V0LmN1cnJlbnRUaW1lO1xuXHRjb25zdCB0b3RhbFNlY29uZHNSZW1haW5pbmcgPSBwYXJzZUludChkdXIgLSB0aW1lLCAxMCk7XG5cblx0aWYgKGlzTmFOKHRvdGFsU2Vjb25kc1JlbWFpbmluZykpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRfcG9wdWxhdGVUaW1lRGlzcGxheShfY29udmVydFNlY29uZHNUb1RpbWUodGltZSksIF9jb252ZXJ0U2Vjb25kc1RvVGltZSh0b3RhbFNlY29uZHNSZW1haW5pbmcsIHRydWUpKTtcblxuXHQvLyBTZXQgbmV3IHNlZWsgaGFuZGxlIHBvc2l0aW9uXG5cdF9QTEFZRVJfRlVOQ1Muc2Vla0hhbmRsZUJveC5zZXRQb3NpdGlvbih0aW1lKTtcbn1cblxuZnVuY3Rpb24gX3BvcHVsYXRlSW5mb0JveENvbnRlbnQoY29udGVudCkge1xuXHRfZW1wdHkoX1BMQVlFUl9GVU5DUy5pbmZvU2Nyb2xsQ29udGVudCk7XG5cblx0X1BMQVlFUl9GVU5DUy5pbmZvU2Nyb2xsQ29udGVudC5pbm5lckhUTUwgPSBjb250ZW50O1xuXHRfUExBWUVSX0ZVTkNTLmluZm9CdXR0b24uZGlzYWJsZShmYWxzZSk7XG59XG5cbi8qKlxuICogTG9hZCB0aGUgY3VycmVudCB0cmFjayBhbmQgYW55IGluZm9cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gY3QgVGhlIGN1cnJlbnQgdHJhY2sgbnVtYmVyIHVzaW5nIGEgMC1iYXNlZCBpbmRleC5cbiAqIEByZXR1cm4ge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9sb2FkVHJhY2soY3QpIHtcblx0X3BhdXNlKCk7XG5cdF9QTEFZRVJfRlVOQ1Muc2Vla0hhbmRsZUJveC50b2dnbGVFbmFibGUodHJ1ZSk7XG5cdF9QTEFZRVJfRlVOQ1MubG9hZFByb2dyZXNzLnJlc2V0KCk7XG5cdF9DVVJSRU5UX1RSQUNLID0gcGFyc2VJbnQoY3QpO1xuXHRfV0VCX0FVRElPLnNyYyA9IF9QTEFZTElTVC50cmFja3NbX0NVUlJFTlRfVFJBQ0tdLnBhdGg7XG5cblx0Ly8gRW5hYmxlIHRyYWNrIGluZm8gYnV0dG9uIGlmIHRyYWNrIGhhcyBpbmZvXG5cdGlmIChfUExBWUxJU1QudHJhY2tzW19DVVJSRU5UX1RSQUNLXS5pbmZvLmxlbmd0aCA8PSAwKSB7XG5cdFx0X1BMQVlFUl9GVU5DUy5pbmZvQnV0dG9uLmRpc2FibGUodHJ1ZSk7XG5cdH1cblx0ZWxzZSB7XG5cdFx0Y29uc3QgY29udGVudCA9IGA8cD4ke19QTEFZTElTVC50cmFja3NbX0NVUlJFTlRfVFJBQ0tdLnRpdGxlfTwvcD5cblx0XHRcdCR7X1BMQVlMSVNULnRyYWNrc1tfQ1VSUkVOVF9UUkFDS10uaW5mb31gO1xuXHRcdF9wb3B1bGF0ZUluZm9Cb3hDb250ZW50KGNvbnRlbnQpO1xuXHR9XG5cblx0X1dFQl9BVURJTy5sb2FkKCk7XG59XG5cbi8qKlxuICogUGF1c2UgaGFuZGxlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBlIEV2ZW50IG9iamVjdFxuICogQHJldHVybnMge1ZvaWR9XG4gKi9cbmZ1bmN0aW9uIF9wYXVzZShlKSB7XG5cdF9XRUJfQVVESU8ucGF1c2UoKTtcbn1cblxuLyoqXG4gKiBQbGF5IGhhbmRsZXIgZm9yIF9XRUJfQVVESU9cbiAqXG4gKiBAcGFyYW0ge0RPTX0gZSBFdmVudCBvYmplY3RcbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG5hc3luYyBmdW5jdGlvbiBfcGxheShlKSB7XG5cdF9QTEFZRVJfRlVOQ1Muc2Vla0hhbmRsZUJveC50b2dnbGVFbmFibGUoZmFsc2UpO1xuXHRfUExBWUVSX0ZVTkNTLnNlZWtIYW5kbGVCb3guc2V0TWF4KCk7XG5cblx0dHJ5IHtcblx0XHRhd2FpdCBfV0VCX0FVRElPLnBsYXkoKTtcblx0fVxuXHRjYXRjaCAoZXgpIHtcblx0XHRfUExBWUVSX0ZVTkNTLnNlZWtIYW5kbGVCb3gudG9nZ2xlRW5hYmxlKHRydWUpO1xuXHR9XG59XG5cbi8qKlxuICogU2V0IHRoZSB0aW1lIGRpc3BsYXlzXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGN1cnJlbnRcbiAqIEBwYXJhbSB7TnVtYmVyfSByZW1haW5cbiAqIEByZXR1cm5zIHtWb2lkfVxuICovXG5mdW5jdGlvbiBfcG9wdWxhdGVUaW1lRGlzcGxheShjdXJyZW50LCByZW1haW4pIHtcblx0X2VtcHR5KF9QTEFZRVJfRlVOQ1MucmVtYWluaW5nVGltZSlcblx0XHQuYXBwZW5kQ2hpbGQoX2NyZWF0ZVRleHROb2RlKHJlbWFpbikpO1xuXHRfZW1wdHkoX1BMQVlFUl9GVU5DUy5jdXJyZW50VGltZURpc3BsYXkpXG5cdFx0LmFwcGVuZENoaWxkKF9jcmVhdGVUZXh0Tm9kZShjdXJyZW50KSk7XG59XG5cbi8qKlxuICogU2V0IGFsbCB0cmFja3MgaW4gZGlzcGxheSBsaXN0IHRvIE5PVCBhY3RpdmUgYnkgcmVtb3ZpbmcgdGhlIGNsYXNzXG4gKlxuICogQHJldHVybiB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gX3JlbW92ZVBsYXlpbmdDbGFzc0Zyb21BbGwoKSB7XG5cdF9QTEFZRVJST09ULmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXlpbmcnKTtcblx0Y29uc3QgY3VycmVudCA9IF9QTEFZRVJfRlVOQ1MucGxheWxpc3RCb3gucXVlcnlTZWxlY3RvcignY3VycmVudCcpO1xuXG5cdGlmIChjdXJyZW50KSB7XG5cdFx0Y3VycmVudC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgV2ViIEF1ZGlvIGVsZW1lbnQgaWYgb25lIGlzIG5vdCBwYXNzZWQgaW4uXG4gKlxuICogQHBhcmFtIHtBdWRpbyBFbGVtZW50fSBhdWRpbzsgZGVmYXVsdHMgdG8gbnVsbC5cbiAqL1xuZnVuY3Rpb24gX3NldEF1ZGlvT2JqZWN0KGF1ZGlvID0gbnVsbCkge1xuXHRfV0VCX0FVRElPID0gYXVkaW8gPz8gbmV3IEF1ZGlvKCk7XG59XG5cbi8qKlxuICogTG9hZCB0cmFjayBidXR0b24gaGFuZGxlci5cbiAqXG4gKiBAcGFyYW0ge0RPTSBFdmVudH0gZSBcbiAqL1xuZnVuY3Rpb24gX2hhbmRsZUxvYWRUcmFjayhlKSB7XG5cdGNvbnN0IHRyYWNrTnVtID0gcGFyc2VJbnQoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXRyYWNrbnVtJykpO1xuXHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdF9yZW1vdmVQbGF5aW5nQ2xhc3NGcm9tQWxsKCk7XG5cdF9sb2FkVHJhY2sodHJhY2tOdW0pO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHBsYXlsaXN0IGRpc3BsYXkgYW5kIGNvbm5lY3QgdG8gYnV0dG9uIGNsaWNrIGV2ZW50XG4gKlxuICogQHJldHVybiB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gX3NldFVwUGxheWxpc3REaXNwbGF5KCkge1xuXHQvLyBDbGVhciBsaXN0IGNvbnRlbnRzXG5cdF9lbXB0eShfUExBWUVSX0ZVTkNTLnBsYXlsaXN0Qm94KTtcblxuXHRmb3IgKGxldCB4ID0gMDsgeCA8IF9QTEFZTElTVC50cmFja3MubGVuZ3RoOyB4KyspIHtcblx0XHRjb25zdCB0cmFjayA9IF9QTEFZTElTVC50cmFja3NbeF07XG5cdFx0Y29uc3QgbGkgPSBfRE9DLmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG5cdFx0Y29uc3Qgc2hvcnRUZXh0ID0gX21ha2VTaG9ydFRpdGxlKHRyYWNrLnRpdGxlKTtcblxuXHRcdC8vIENyZWF0ZSBhIG5ldyBidXR0b24gbm9kZSAmIGRyZXNzIGl0IHVwLlxuXHRcdGNvbnN0IGJ0biA9IF9ET0MuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5cdFx0YnRuLmFwcGVuZENoaWxkKF9jcmVhdGVUZXh0Tm9kZShzaG9ydFRleHQpKTtcblx0XHRidG4uc2V0QXR0cmlidXRlKCdkYXRhLXRyYWNrbnVtJywgeCk7XG5cdFx0Ly8gQWRkIHRvIGxpc3QgaXRlbVxuXHRcdGxpLmFwcGVuZENoaWxkKGJ0bik7XG5cdFx0Ly8gQWRkIHRvIGxpc3Rcblx0XHRfUExBWUVSX0ZVTkNTLnBsYXlsaXN0Qm94LmFwcGVuZENoaWxkKGxpKTtcblx0XHQvLyBBZGQgZXZlbnQgaGFuZGxlclxuXHRcdF9hdHRhY2hFdmVudHMoYnRuLCAnY2xpY2snLCBfaGFuZGxlTG9hZFRyYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBzaG9ydGVuZWQgdGl0bGVcbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFNob3J0ZW5lZCB0aXRsZVxuICovXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gX21ha2VTaG9ydFRpdGxlKHRpdGxlU3RyKSB7XG5cdGNvbnN0IGN1dG9mZiA9IDUwO1xuXG5cdGlmICh0aXRsZVN0ci5sZW5ndGggPD0gY3V0b2ZmKSB7XG5cdFx0cmV0dXJuIHRpdGxlU3RyO1xuXHR9XG5cblx0Y29uc3QgY3V0ID0gdGl0bGVTdHIuc3Vic3RyKDAsIGN1dG9mZik7XG5cdGNvbnN0IHNwbGl0ID0gY3V0LnNwbGl0KCcgJyk7XG5cdGNvbnN0IHBvcCA9IHNwbGl0LnBvcCgpO1xuXG5cdHJldHVybiBgJHtzcGxpdC5qb2luKCcgJyl9Li4uYDtcbn1cblxuLyoqXG4gKiBFbmFibGUvZGlzYWJsZSBhbGwgcGxheWVyIGJ1dHRvbnNcbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IHN0YXRlXG4gKiBAcmV0dXJucyB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gX3RvZ2dsZVBsYXllckJ1dHRvbnMoc3RhdGUpIHtcblx0Zm9yIChjb25zdCBub2RlIG9mIF9QTEFZRVJfQ09OVFJPTF9OT0RFUykge1xuXHRcdG5vZGUuZGlzYWJsZWQgPSBzdGF0ZTtcblx0fVxufVxuXG4vKipcbiAqIFNldCB0aGUgdGl0bGUgdGV4dFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgTmV3IHRpdGxlXG4gKiBAcmV0dXJucyB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gX3VwZGF0ZVNjcmVlblRpdGxlKHN0cikge1xuXHRfUExBWUVSX0ZVTkNTLnNjcmVlblRpdGxlLmlubmVySFRNTCA9IHN0cjtcbn1cbiJdLCJuYW1lcyI6WyJnZXQiLCJhc3luYyIsImVuZHBvaW50IiwicXVlcnlQYXJhbXMiLCJVUkwiLCJVUkxTZWFyY2hQYXJhbXMiLCJ0b1N0cmluZyIsInJlcXVlc3RQYXJhbXMiLCJoZWFkZXJzIiwiSGVhZGVycyIsIm1ldGhvZCIsIm1vZGUiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJFcnJvciIsImpzb24iLCJfbG9nIiwibGV2ZWwiLCJtc2ciLCJjb25zb2xlIiwibG9nIiwiZGVidWciLCJlcnJvciIsImluZm8iLCJ3YXJuIiwiY3JpdGljYWwiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImQiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInZlcnNpb24iLCJfRE9DIiwiX0FVRElPX0NPREVDU19NSU1FUyIsIm1wMyIsIm1wNCIsIm9nZyIsIndlYm0iLCJ3YXYiLCJfV0VCX0FVRElPIiwiX0FVVE9fUExBWSIsIl9DVVJSRU5UX1RSQUNLIiwiX0hUTUw1X1NVUFBPUlQiLCJfUExBWUVSUk9PVCIsIl9QTEFZRVJfQ09OVFJPTF9OT0RFUyIsIl9QTEFZTElTVCIsIl9QTEFZTElTVFMiLCJfVFJBQ0tfQ09VTlQiLCJfU0FWRURWT0xVTUUiLCJfUExBWUVSX1BBUlRTX1NFTEVDVE9SUyIsIl9QTEFZRVJfRlVOQ1MiLCJhamF4U3Bpbm5lciIsImF1dG9wbGF5QnRuIiwiY3VycmVudFRpbWVEaXNwbGF5IiwiaW5mb0J1dHRvbiIsImluZm9TY3JlZW4iLCJpbmZvU2Nyb2xsIiwiaW5mb1Njcm9sbENvbnRlbnQiLCJsb2FkUHJvZ3Jlc3MiLCJtdXRlQnV0dG9uIiwibmV4dFRyYWNrQnRuIiwicGxheUJ0biIsInBsYXlsaXN0Qm94IiwicGxheWxpc3RCdG4iLCJwcmV2VHJhY2tCdG4iLCJyZW1haW5pbmdUaW1lIiwic2Vla0hhbmRsZUJveCIsInNjcmVlblRpdGxlIiwidXNlclNjcmVlbiIsInZvbHVtZUJ1dHRvbiIsInZvbHVtZVNsaWRlck11dGUiLCJ2b2x1bWVTbGlkZXIiLCJzdGFydHVwIiwiaWQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicGxheWVyTm9kZSIsImdldEVsZW1lbnRCeUlkIiwiaW5pdCIsImRvYyIsImF1ZGlvIiwiX2NoZWNrV2ViQXVkaW9BcGlTdXBwb3J0IiwidHlwZSIsIkF1ZGlvIiwiY2xhc3NMaXN0IiwiYWRkIiwiX3NldEF1ZGlvT2JqZWN0IiwiX2NoZWNrTWltZVN1cHBvcnQiLCJhbnMiLCJ4IiwieHgiLCJfY2FuUGxheVR5cGUiLCJfc2V0VXBGdW5jdGlvbmFsaXR5Iiwibm9kZSIsIl9nZXROb2RlQnlDbGFzcyIsInRvZ2dsZSIsIl9hamF4U3Bpbm5lclRvZ2dsZXIiLCJoYW5kbGVCdXR0b24iLCJfYXV0b1BsYXlCdXR0b25IYW5kbGVyIiwiZGlzYWJsZSIsIl9pbmZvQnV0dG9uSGFuZGxlciIsImNsb3NlIiwiX2luZm9TY3JlZW5DbG9zZUhhbmRsZXIiLCJvcGVuIiwiX2luZm9TY3JlZW5PcGVuSGFuZGxlciIsIl9pbmZvU2NyZWVuVG9nZ2xlciIsInJlc2V0IiwidGhpcyIsInNldFdpZHRoIiwic2V0RnVsbFdpZHRoIiwidyIsInN0eWxlIiwid2lkdGgiLCJfcmVtb3ZlUGxheWluZ0NsYXNzRnJvbUFsbCIsIl9sb2FkVHJhY2siLCJfZ2V0TmV4dFRyYWNrIiwicGF1c2VkIiwiX3BsYXkiLCJfcGF1c2UiLCJfbG9hZEFsbFBsYXlsaXN0c0hhbmRsZXIiLCJoYW5kbGVTaW5nbGVDbGljayIsImN1cnJlbnRUaW1lIiwiaGFuZGxlRGJsQ2xpY2siLCJfZ2V0UHJldlRyYWNrIiwiaGFuZGxlSW5wdXQiLCJ0YXJnZXQiLCJ0b2dnbGVFbmFibGUiLCJzZXRNYXgiLCJzZXRBdHRyaWJ1dGUiLCJzZWVrYWJsZSIsImVuZCIsInNldFBvc2l0aW9uIiwidmFsIiwic3RhdHVzIiwiZGlzYWJsZWQiLCJfcG9wdWxhdGVUaW1lRGlzcGxheSIsInRvZ2dsZUFjdGl2ZSIsInRvZ2dsZU11dGUiLCJtdXRlZCIsInJlbW92ZSIsInZvbHVtZSIsImNvbnRhaW5zIiwidiIsInZvbCIsInBhcnNlSW50IiwiX3RvZ2dsZVBsYXllckJ1dHRvbnMiLCJfY29ubmVjdFBsYXllckJ1dHRvbnMiLCJfYXR0YWNoRXZlbnRzIiwiX2Nvbm5lY3RBdWRpb0V2ZW50cyIsIl9oYW5kbGVFbmRPZkF1ZGlvRXZlbnQiLCJfaGFuZGxlUGF1c2VFdmVudCIsIl9oYW5kbGVQbGF5aW5nRXZlbnQiLCJfaGFuZGxlUHJvZ3Jlc3NFdmVudCIsIl9oYW5kbGVUaW1lVXBkYXRlRXZlbnQiLCJfcmVuZGVyUGxheWxpc3RzTGlzdCIsImVyciIsImNsYXNzTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdGF0ZSIsImZhc3QiLCJldmVudCIsImhhbmRsZXIiLCJjYW5QbGF5VHlwZSIsIl9jb252ZXJ0U2Vjb25kc1RvVGltZSIsInMiLCJyZXYiLCJtaW5zIiwiTWF0aCIsImZsb29yIiwic2VjcyIsInNlY19udW0iLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiX2NyZWF0ZVRleHROb2RlIiwic3RyIiwiY3JlYXRlVGV4dE5vZGUiLCJfZW1wdHkiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJoeXBvTmV4dCIsIl9wbGF5bGlzdEJ1dHRvbkhhbmRsZXIiLCJwbHUiLCJkYXRhc2V0IiwicGxheWxpc3QiLCJwcmV2ZW50RGVmYXVsdCIsInBsYXlsaXN0VXJsIiwiX2hhbmRsZVBsYXlsaXN0IiwicGwiLCJfdXBkYXRlU2NyZWVuVGl0bGUiLCJuYW1lIiwidHJhY2tzIiwibGVuZ3RoIiwiX3NldFVwUGxheWxpc3REaXNwbGF5IiwidHJhY2siLCJsaSIsImNyZWF0ZUVsZW1lbnQiLCJzaG9ydFRleHQiLCJfbWFrZVNob3J0VGl0bGUiLCJ0aXRsZSIsImJ0biIsImFwcGVuZENoaWxkIiwiX2hhbmRsZUxvYWRUcmFjayIsIl9wb3B1bGF0ZUluZm9Cb3hDb250ZW50IiwiX2xvYWRQbGF5bGlzdCIsImhyZWYiLCJleCIsInBsYXlsaXN0c1VybCIsImJ1dHRvbiIsInVybCIsInBhcmVudCIsInBhcmVudE5vZGUiLCJidWZmZCIsImJ1ZmZlcmVkIiwiaSIsInBlcmNlbnRhZ2UiLCJjZWlsIiwiZHVyYXRpb24iLCJkdXIiLCJ0aW1lIiwidG90YWxTZWNvbmRzUmVtYWluaW5nIiwiaXNOYU4iLCJjb250ZW50IiwiaW5uZXJIVE1MIiwiY3QiLCJzcmMiLCJwYXRoIiwibG9hZCIsInBhdXNlIiwicGxheSIsImN1cnJlbnQiLCJyZW1haW4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0cmFja051bSIsImdldEF0dHJpYnV0ZSIsInRpdGxlU3RyIiwic3BsaXQiLCJzdWJzdHIiLCJwb3AiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==